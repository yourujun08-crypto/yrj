{% extends 'personnel/base.html' %}

{% block title %}
    <!-- 动态标题：根据是否是编辑现有请假申请显示不同文本 -->
    {% if form.instance.pk %}
        Edit Leave  <!-- 编辑现有请假时显示 -->
    {% else %}
        Add Leave   <!-- 创建新请假时显示 -->
    {% endif %}
{% endblock %}

{% block content %}
    <!-- 动态内容标题：与title块逻辑一致 -->
    <h2 class="mb-4">
        {% if form.instance.pk %}
            Edit Leave
        {% else %}
            Add Leave
        {% endif %}
    </h2>
    <!-- 表单开始：method="post"用于提交数据 -->
    <form method="post">
        <!-- CSRF保护 -->
        {% csrf_token %}
        <!-- 渲染表单字段 -->
        {{ form.as_p }}
        <!-- 提交按钮 -->
        <button type="submit" class="btn btn-primary">Save</button>
        <!-- 取消按钮：返回请假列表 -->
        <a href="{% url 'leaves_list' %}" class="btn btn-secondary">Cancel</a>
    </form>
{% endblock %}
